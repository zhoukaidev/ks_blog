## 简介

本文及该系列的后续文章主要用于记录在学习`Linux驱动开发`过程中的相关总结或者是备忘，可能现阶段无法保证所有的理解完全正确，
后续会根据实际的学习进度来来时刻更新该系列的内容。

> 什么是Linux驱动?

Linux驱动是运行的Linux内核里面的软件模块，它负责让Linux能够识别和控制相应的硬件模块，同时让用户控件的代码可以安全，方便的访问这些硬件。

> 为什么需要驱动程序?

硬件的设备种类很多，他们的控制方式，通信协议，寄存器地址都各不相同，操作系统无法自动自动如何控制这些硬件，所以需要驱动程序来告诉操作系统，同时驱动程序也提供了一个统一的接口，让用户可以使用统一的接口操作不同的硬件设备。

```md
           系统调用
用户程序 ------------> Linux内核(->驱动程序) ---> 硬件设备

```

存在两种不同形式的Linux驱动变成方案:

* 将驱动和内核一起编译，每次修改代码需要将内核和驱动都重新编译一次
* 已内核模块的形式实现驱动，Linux可以加载或者卸载该模块，不需要编译内核

本文将讨论第二种形式。

### 创建一个内核模块

创建一个文件: `mydriver.c`,并添加以下代码:


```c
#include <linux/init.h>
#include <linux/module.h>

static int my_init(void)
{
    return 0;
}

static void my_exit(void)
{
    return;
}

module_init(my_init);
module_exit(my_exit);
```

* 通过`module_init`定义**加载module**的时候调用的函数
* 通过`module_exit`定义**卸载module**的时候调用的函数

这是最简单的一个内核模块，当前目前没有任何功能，后续我们会逐步添加新的工作。


